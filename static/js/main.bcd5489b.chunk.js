(this["webpackJsonpguessing-game"]=this["webpackJsonpguessing-game"]||[]).push([[0],{38:function(e,t,n){e.exports={cardContainer:"GameCard_cardContainer__3tU0p",cardImage:"GameCard_cardImage__tewNy",skeleton:"GameCard_skeleton__2fLsW",closedImage:"GameCard_closedImage__3O1XJ"}},60:function(e,t,n){e.exports={wrapper:"GameBoard_wrapper__3KAJu"}},62:function(e,t,n){e.exports={wrapper:"GameAccess_wrapper__cwH7C"}},63:function(e,t,n){e.exports={wrapper:"GameArea_wrapper__2-YDn"}},80:function(e,t,n){},90:function(e,t,n){var r={"./Alex.jpg":[101,4],"./Alfred.jpg":[102,5],"./Anita.jpg":[103,6],"./Anne.jpg":[104,7],"./Bernard.jpg":[105,8],"./Bill.jpg":[106,9],"./Charles.jpg":[107,10],"./Claire.jpg":[108,11],"./David.jpg":[109,12],"./Eric.jpg":[110,13],"./Frans.jpg":[111,14],"./George.jpg":[112,15],"./Herman.jpg":[113,16],"./Joe.jpg":[114,17],"./Maria.jpg":[115,18],"./Max.jpg":[116,19],"./Paul.jpg":[117,20],"./Peter.jpg":[118,21],"./Philip.jpg":[119,22],"./Richard.jpg":[120,23],"./Robert.jpg":[121,24],"./Sam.jpg":[122,25],"./Susan.jpg":[123,26],"./Tom.jpg":[124,27]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=90,e.exports=a},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(30),i=n.n(c),s=n(65),o=n(13),u=(n(80),n(23)),j=n(2),d=function(e){var t=e.children;return Object(j.jsx)(u.a,{domain:"dev-l35vsdvp.us.auth0.com",clientId:"YiwT0ZWCFLSzLWDyLj4BKILPXYYqD8Tg",redirectUri:window.location.origin,audience:"https://api.github.fishdev.tech",children:t})},l=n(17),p=n(15),b=n.n(p),f=n(50),h=n(20),O="boardState",g=n(8),x=a.a.createContext(),m=function(e){var t=e.children,n=Object(r.useState)(),a=Object(g.a)(n,2),c=a[0],i=a[1];return Object(j.jsx)(x.Provider,{value:{setToken:i,token:c},children:t})},v=a.a.createContext(),C={gameId:"",player:{}},k=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(g.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(C),o=Object(g.a)(s,2),u=o[0],d=o[1];return Object(j.jsx)(v.Provider,{value:{gameCards:c,gameData:u,setGameCards:i,setGameData:d},children:t})},w=n(159),y=n(38),I=n.n(y),_=function(e){var t=e.children,n=e.clickHandler,r=e.index;return console.log(n),Object(j.jsx)("div",{className:I.a.cardContainer,onClick:function(){return n(r)},children:t})},G=function(e){var t=e.cardData,a=t.isClosed,c=(t.url,t.name),i=Object(r.useState)(),s=Object(g.a)(i,2),o=s[0],u=s[1];return Object(r.useEffect)((function(){n(90)("./".concat(c,".jpg")).then((function(e){u(e.default)}))})),o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{alt:c,className:I.a.cardImage,src:o}),a?Object(j.jsx)("div",{className:I.a.closedImage,children:"X"}):null]}):Object(j.jsx)(w.a,{variant:"rectangle",className:I.a.skeleton})},S="http://3.19.79.129",D=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.token)){e.next=9;break}return e.next=4,fetch("".concat(S,"/cards"),{headers:{authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.body,!(r=t.token)){e.next=9;break}return e.next=4,fetch("".concat(S,"/game"),{body:n,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(r)},method:"POST"});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r,a,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.body,r=t.token,a=t.gameId,!r){e.next=9;break}return e.next=4,fetch("".concat(S,"/game/").concat(a),{body:n,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(r)},method:"PUT"});case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token,r=t.gameId,!n){e.next=5;break}return e.next=4,fetch("".concat(S,"/game/").concat(r),{headers:{authorization:"Bearer ".concat(n)},method:"DELETE"});case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=n(60),B=n.n(A),P=function(){var e=Object(r.useContext)(x).token,t=Object(r.useContext)(v),n=t.setGameCards,a=t.gameCards;Object(r.useEffect)((function(){function t(){return(t=Object(h.a)(b.a.mark((function t(){var r,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D({token:e});case 2:r=t.sent,(a=JSON.parse(localStorage.getItem(O)))&&(r=null===(c=r)||void 0===c?void 0:c.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{isClosed:Boolean(a[t])})}))),n(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var c=function(e){var t=Object(l.a)(a);t[e].isClosed=!t[e].isClosed,n(t),localStorage.setItem(O,JSON.stringify(t.map((function(e){return Number(!!e.isClosed)}))))},i=null===a||void 0===a?void 0:a.map((function(e,t){return Object(j.jsx)(_,{clickHandler:c,index:t,children:Object(j.jsx)(G,{index:t,cardData:e,clickHandler:c})},t)}));return Object(j.jsx)("div",{className:B.a.wrapper,children:i})},E=n(160),F=n(157),J=function(){var e=Object(u.b)().user,t=Object(r.useContext)(x).token,n=Object(r.useContext)(v).setGameData,a=function(){var r=Object(h.a)(b.a.mark((function r(a){var c,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),r.prev=1,c=JSON.stringify({user:e.email}),r.next=5,L({token:t,body:c});case 5:i=r.sent,n(i),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}();return Object(j.jsx)(F.a,{onClick:a,children:"Create Game"})},z=n(156),H=function(e){e.setGameId,e.setPlayer;var t=Object(r.useState)(),n=Object(g.a)(t,2),a=n[0],c=n[1],i=Object(u.b)().user,s=Object(r.useContext)(v).setGameData,o=Object(r.useContext)(x).token,d=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=JSON.stringify({user:i.email}),e.next=4,N({body:n,token:o,gameId:a});case 4:r=e.sent,s(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(E.a,{style:{display:"inline"},children:[Object(j.jsx)(z.a,{variant:"outlined",label:"Game Code",size:"small",style:{marginRight:"5px"},onChange:function(e){c(e.target.value)}}),Object(j.jsx)(F.a,{onClick:d,variant:"contained",children:"Join"})]})},R=function(){var e=Object(r.useContext)(v),t=e.setGameData,n=e.gameData,a=Object(r.useContext)(x).token,c=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({token:a,gameId:n.gameId});case 2:t(C);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:["Game Id: ".concat(n.gameId),Object(j.jsx)(F.a,{onClick:c,variant:"contained",children:"Leave Game"})]})},U=n(62),M=n.n(U),W=function(){var e,t=Object(r.useContext)(v).gameData;return Object(j.jsx)(E.a,{className:M.a.wrapper,children:(null===t||void 0===t?void 0:t.gameId)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(R,{}),Object(j.jsx)("div",{children:"Playing As: ".concat(null===t||void 0===t||null===(e=t.player)||void 0===e?void 0:e.guessingTarget)})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(J,{}),Object(j.jsx)(H,{})]})})},Y=function(){var e=Object(r.useContext)(x).token,t=Object(u.b)(),n=t.isAuthenticated,a=t.isLoading;return Object(j.jsx)("div",{children:!a&&n&&Object(j.jsx)(W,{token:e})})},X=function(){var e=Object(r.useContext)(v),t=e.gameCards,n=e.setGameCards,a=Object(u.b)(),c=a.isLoading,i=a.isAuthenticated;return!c&&i&&Object(j.jsx)(F.a,{onClick:function(){var e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).gameBoard;return(void 0===e?[]:e).map((function(e){return e.isClosed=!1,e}))}({gameBoard:t});localStorage.removeItem(O),n(e)},children:"Reset"})},K=n(63),q=n.n(K),Z=function(){return Object(j.jsxs)("div",{className:q.a.wrapper,children:[Object(j.jsx)(Y,{}),Object(j.jsxs)("div",{children:[Object(j.jsx)(P,{}),Object(j.jsx)(X,{})]})]})},Q=(n(96),function(){var e=Object(u.b)(),t=e.user,n=e.isAuthenticated;return e.isLoading?Object(j.jsx)("div",{children:"Loading"}):n&&Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:t.name})})}),V=function(){var e=Object(u.b)(),t=e.loginWithRedirect,n=e.logout,a=e.isAuthenticated,c=e.isLoading,i=e.getAccessTokenSilently,s=Object(r.useContext)(x).setToken;Object(r.useEffect)((function(){!c&&a&&function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({audience:"https://api.github.fishdev.tech"});case 2:t=e.sent,console.log("token",t),s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c,a]);var o=Object(j.jsx)("button",{onClick:function(){t()},children:"Login"}),d=!c&&(a?Object(j.jsx)("button",{onClick:function(){n({returnTo:window.location.origin})},children:"Logout"}):o);return Object(j.jsxs)("section",{children:[d,Object(j.jsx)(Q,{})]})},$=function(){return Object(j.jsx)(d,{children:Object(j.jsx)(m,{children:Object(j.jsx)(k,{children:Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(V,{}),Object(j.jsx)(o.c,{children:Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(Z,{})})})]})})})})})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(97);i.a.render(Object(j.jsx)($,{}),document.getElementById("root")),ee()}},[[98,1,2]]]);
//# sourceMappingURL=main.bcd5489b.chunk.js.map